!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.lisp=t()}}(function(){return function t(r,n,e){function i(o,c){if(!n[o]){if(!r[o]){var s="function"==typeof require&&require;if(!c&&s)return s(o,!0);if(u)return u(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var a=n[o]={exports:{}};r[o][0].call(a.exports,function(t){var n=r[o][1][t];return i(n?n:t)},a,a.exports,t,r,n,e)}return n[o].exports}for(var u="function"==typeof require&&require,o=0;o<e.length;o++)i(e[o]);return i}({1:[function(t,r,n){"use strict";function e(){var t=0;return function(r){return c(r)?t:(t++,r)}}var i=t("squad"),u=t("is"),o=t("apart"),c=o(u,"undefined");r.exports=function(t){var r=e(),n=e(),u=s(r,"("),o=s(n,")");return t.forEach(i(u,o)),f(r,n),t};var s=function(t,r){return function(n){return n!==r?n:t(n)}},f=function(t,r){if(t()!==r())throw Error("different count of parentheses: open "+t()+", close "+r())}},{apart:25,is:14,squad:26}],2:[function(t,r,n){"use strict";function e(t){a(t);var r=void 0,n=Number(t);return r=isNaN(n)?i(t)?{type:"literal",value:t.slice(1,-1)}:{type:"identifier",value:t}:{type:"literal",value:n}}function i(t){return'"'===u(t)&&'"'===o(t)}r.exports=e;var u=t("head"),o=t("last"),c=t("check"),s=t("apart"),f=s(c,"string"),a=s(f,"input")},{apart:25,check:8,head:10,last:15}],3:[function(t,r,n){"use strict";function e(t,r){this.scope=t,this.parent=r,this.get=function(t){var r=void 0;return t in this.scope?r=this.scope[t]:this.parent&&(r=this.parent.get(t)),r}}r.exports=e},{}],4:[function(t,r,n){"use strict";function e(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}function i(t,r){var n=c(t);if(t.length&&n.value in a)return a[n.value](t,r);var i=t[0],o=t.map(function(t){return u(t,r)}),f=c(o);return p(i.value,f),f.apply(void 0,e(s(o)))}r.exports=i;var u=t("./interpret"),o=t("./context"),c=t("head"),s=t("tail"),f=t("is-function"),a={let:function(t,r){var n=t[1].reduce(function(t,n){return t.scope[n[0].value]=u(n[1],r),t},new o({},r));return u(t[2],n)},lambda:function(t,r){return function(){var n=arguments,e=t[1].reduce(function(t,r,e){return t[r.value]=n[e],t},{}),i=new o(e,r);return u(t[2],i)}},"if":function(t,r){return u(t[1],r)?u(t[2],r):u(t[3],r)}},p=function(t,r){if(!f(r))throw Error(t+" is not a function!")}},{"./context":3,"./interpret":5,head:10,"is-function":12,tail:22}],5:[function(t,r,n){"use strict";!function(){function n(t,r){var n=void 0,c=r||new e(i);return n=o(t)?u(t,c):"identifier"===t.type?c.get(t.value):t.value}r.exports=n;var e=t("./context"),i=t("./library"),u=t("./interpret-list"),o=t("is-array")}()},{"./context":3,"./interpret-list":4,"./library":6,"is-array":11}],6:[function(t,r,n){"use strict";r.exports={print:t("print"),"+":t("sum"),"-":t("subs"),"*":t("multiply"),"/":t("divide")}},{divide:9,multiply:16,print:17,subs:20,sum:21}],7:[function(t,r,n){"use strict";var e=t("./reduce");r.exports=function(t){return function(){return e(t,arguments)}}},{"./reduce":18}],8:[function(t,r,n){"use strict";var e=t("is");r.exports=function(t,r,n){if(!e(t,n))throw Error(r+" should be "+t+"!");return n}},{is:14}],9:[function(t,r,n){"use strict";var e=t("./calc");r.exports=e(function(t,r){return t/r})},{"./calc":7}],10:[function(t,r,n){"use strict";r.exports=function(t){return t[0]}},{}],11:[function(t,r,n){"use strict";r.exports=function(t){return Array.isArray(t)}},{}],12:[function(t,r,n){"use strict";var e=t("is");r.exports=function(t){return e("function",t)}},{is:14}],13:[function(t,r,n){"use strict";var e=t("is");r.exports=function(t){return e("string",t)}},{is:14}],14:[function(t,r,n){"use strict";function e(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}r.exports=function(t,r){return("undefined"==typeof r?"undefined":e(r))===t}},{}],15:[function(t,r,n){"use strict";var e=t("./slice"),i=t("./head");r.exports=function(t){return i(e(t,-1))}},{"./head":10,"./slice":19}],16:[function(t,r,n){"use strict";var e=t("./calc");r.exports=e(function(t,r){return t*r})},{"./calc":7}],17:[function(t,r,n){"use strict";r.exports=function(t){return console.log(t),t}},{}],18:[function(t,r,n){"use strict";r.exports=function(t,r){return[].reduce.call(r,t)}},{}],19:[function(t,r,n){"use strict";r.exports=function(t,r,n){return[].slice.call(t,r,n)}},{}],20:[function(t,r,n){"use strict";var e=t("./calc");r.exports=e(function(t,r){return t-r})},{"./calc":7}],21:[function(t,r,n){"use strict";var e=t("./calc");r.exports=e(function(t,r){return t+r})},{"./calc":7}],22:[function(t,r,n){"use strict";var e=t("./slice");r.exports=function(t){return e(t,1)}},{"./slice":19}],23:[function(t,r,n){"use strict";function e(t,r){i(t);var n;return r?(n=t.shift(),n?"("===n?(r.push(e(t,[])),e(t,r)):")"===n?r:e(t,r.concat(u(n))):r.pop()):e(t,[])}function i(t){if(!Array.isArray(t))throw Error("input should be an array!")}var u=t("./categorize");r.exports=e},{"./categorize":2}],24:[function(t,r,n){"use strict";function e(t){c(t);var r=s(t);return t.split('"').map(f(i,p,r)).join('"').split(" ").filter(Boolean).map(function(t){return t.replace(RegExp(r,"g")," ")})}function i(t,r,n,e){return e%2===0?o(t,n):u(r,n)}function u(t,r){return r.replace(/ /g,t)}function o(t,r){var n=r.replace(/\(|\)/g,t);return n}function c(t){if(!a(t))throw Error("expression should be string!")}function s(t){var r=void 0;do r=d();while(l(t,r));return r}var f=t("apart"),a=t("is-string"),p=function(t){return" "+t+" "};r.exports=e;var l=function(t,r){return~t.indexOf(r)},d=function(){return">---"+Math.random()+"---<"}},{apart:25,"is-string":13}],25:[function(t,r,n){"use strict";function e(t){if(Array.isArray(t)){for(var r=0,n=Array(t.length);r<t.length;r++)n[r]=t[r];return n}return Array.from(t)}function i(t){o(t);var r=c(arguments);return function(){var n=[].concat(e(r),Array.prototype.slice.call(arguments));return t.apply(void 0,e(n))}}function u(t,r,n){return[].slice.call(t,r,n)}function o(t){if("function"!=typeof t)throw Error("fn should be function!")}var c=function(t){return u(t,1)};r.exports=i},{}],26:[function(t,r,n){!function(t){"use strict";function n(){var t=[].slice.call(arguments).reverse();return i("function",t),function(){return t.reduce(e,arguments).pop()}}function e(t,r){return[r.apply(null,t)]}function i(t,r){var n=u(s,t),e=u(c,t);r.length?r.map(o).filter(e).forEach(n):n(t)}function u(t,r){return t.bind(null,r)}function o(t){return typeof t}function c(t,r){return t!==r}function s(t){throw Error("fn should be "+t+"!")}"undefined"!=typeof r&&r.exports?r.exports=n:t.squad=n}(this)},{}],lisp:[function(t,r,n){"use strict";var e=t("squad"),i=t("./interpret"),u=t("./parenthesize"),o=t("./tokenize"),c=t("./brackets-check"),s=t("apart"),f=t("check"),a=s(f,"string"),p=s(a,"expression"),l=e(i,u,c,o,p);r.exports=l},{"./brackets-check":1,"./interpret":5,"./parenthesize":23,"./tokenize":24,apart:25,check:8,squad:26}]},{},["lisp"])("lisp")});
